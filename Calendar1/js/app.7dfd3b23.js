(function(e){function t(t){for(var n,o,i=t[0],s=t[1],c=t[2],u=0,v=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(l,o)&&l[o]&&v.push(l[o][0]),l[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);d&&d(t);while(v.length)v.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,i=1;i<a.length;i++){var s=a[i];0!==l[s]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},l={app:0},r=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var d=s;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var n=a("1356"),l=a.n(n);l.a},1356:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("2b0e"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-content",[a("Calendar")],1)],1)},r=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{staticClass:"fill-height"},[a("v-col",{staticClass:"wrapper",attrs:{cols:"2"}},[a("div",{staticClass:"sidebar"},[a("ul",{staticClass:"list-group"},e._l(e.typeCalendar,function(t){return a("li",[a("v-btn",{staticClass:"sidebar__btn btn-calendar",attrs:{color:e.SelectNow==t?"primary":""},on:{click:function(a){return e.getCalendar(t)}}},[e._v("\n              "+e._s(t)+"\n            ")]),a("v-icon",{staticClass:"delete-cal",on:{click:function(a){return e.deleteCalendar(t)}}},[e._v("mdi-delete")])],1)}),0),a("v-btn",{staticClass:"sidebar__btn btn-add-calendar",attrs:{color:"primary"},on:{click:function(t){t.stopPropagation(),e.dialogCalendar=!0}}},[e._v("Добавить календарь")])],1)]),a("v-col",[a("v-sheet",{attrs:{height:"64"}},[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(t){t.stopPropagation(),e.dialog=!0}}},[e._v("\n            New Event\n          ")]),a("v-btn",{staticClass:"mr-4",attrs:{outlined:""},on:{click:e.setToday}},[e._v("\n            Today\n          ")]),a("v-btn",{attrs:{fab:"",text:"",small:""},on:{click:e.prev}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-chevron-left")])],1),a("v-btn",{attrs:{fab:"",text:"",small:""},on:{click:e.next}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-chevron-right")])],1),a("v-toolbar-title",[e._v(e._s(e.title))]),a("div",{staticClass:"flex-grow-1"}),a("v-menu",{attrs:{bottom:"",right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({attrs:{outlined:""}},n),[a("span",[e._v(e._s(e.typeToLabel[e.type]))]),a("v-icon",{attrs:{right:""}},[e._v("mdi-menu-down")])],1)]}}])},[a("v-list",[a("v-list-item",{on:{click:function(t){e.type="day"}}},[a("v-list-item-title",[e._v("Day")])],1),a("v-list-item",{on:{click:function(t){e.type="week"}}},[a("v-list-item-title",[e._v("Week")])],1),a("v-list-item",{on:{click:function(t){e.type="month"}}},[a("v-list-item-title",[e._v("Month")])],1),a("v-list-item",{on:{click:function(t){e.type="4day"}}},[a("v-list-item-title",[e._v("4 days")])],1)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-container",[a("v-form",{on:{submit:function(t){return t.preventDefault(),e.addEvent(t)}}},[a("v-text-field",{attrs:{type:"text",label:"event name (required)"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-text-field",{attrs:{type:"text",label:"detail"},model:{value:e.details,callback:function(t){e.details=t},expression:"details"}}),a("v-text-field",{attrs:{type:"date",label:"start (required)"},model:{value:e.start,callback:function(t){e.start=t},expression:"start"}}),a("v-text-field",{attrs:{type:"date",label:"end (required)"},model:{value:e.end,callback:function(t){e.end=t},expression:"end"}}),a("v-text-field",{attrs:{type:"color",label:"color (click to open color menu)"},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}}),a("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"primary"},on:{click:function(t){t.stopPropagation(),e.dialog=!1}}},[e._v("\n                create event\n              ")])],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500"},model:{value:e.dialogCalendar,callback:function(t){e.dialogCalendar=t},expression:"dialogCalendar"}},[a("v-card",[a("v-container",[a("v-form",{on:{submit:function(t){return t.preventDefault(),e.addCalendar(t)}}},[a("v-text-field",{attrs:{type:"text",label:"calendar name (required)"},model:{value:e.calendarName,callback:function(t){e.calendarName=t},expression:"calendarName"}}),a("v-text-field",{attrs:{type:"color",label:"color (click to open color menu)"},model:{value:e.calendarColor,callback:function(t){e.calendarColor=t},expression:"calendarColor"}}),a("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"primary"},on:{click:function(t){t.stopPropagation(),e.dialog=!1}}},[e._v("\n                create event\n              ")])],1)],1)],1)],1),a("v-sheet",{attrs:{height:"600"}},[a("v-calendar",{ref:"calendar",attrs:{color:"primary",events:e.events,"event-color":e.getEventColor,"event-margin-bottom":3,now:e.today,type:e.type},on:{"click:event":e.showEvent,"click:more":e.viewDay,"click:date":e.setDialogDate,change:e.updateRange},model:{value:e.focus,callback:function(t){e.focus=t},expression:"focus"}}),a("v-menu",{attrs:{"close-on-content-click":!1,activator:e.selectedElement,"full-width":"","offset-x":""},model:{value:e.selectedOpen,callback:function(t){e.selectedOpen=t},expression:"selectedOpen"}},[a("v-card",{attrs:{color:"grey lighten-4",width:350,flat:""}},[a("v-toolbar",{attrs:{color:e.selectedEvent.color,dark:""}},[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.deleteEvent(e.selectedEvent.id)}}},[a("v-icon",[e._v("mdi-delete")])],1),a("v-toolbar-title",{domProps:{innerHTML:e._s(e.selectedEvent.name)}}),a("div",{staticClass:"flex-grow-1"})],1),a("v-card-text",[e.currentlyEditing!==e.selectedEvent.id?a("form",[e._v("\n        "+e._s(e.selectedEvent.details)+"\n      ")]):a("form",[a("textarea-autosize",{staticStyle:{width:"100%"},attrs:{type:"text","min-height":100,placeholder:"add note"},model:{value:e.selectedEvent.details,callback:function(t){e.$set(e.selectedEvent,"details",t)},expression:"selectedEvent.details"}})],1)]),a("v-card-actions",[a("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){e.selectedOpen=!1}}},[e._v("\n      close\n    ")]),e.currentlyEditing!==e.selectedEvent.id?a("v-btn",{attrs:{text:""},on:{click:function(t){return t.preventDefault(),e.editEvent(e.selectedEvent)}}},[e._v("\n      edit\n    ")]):a("v-btn",{attrs:{text:"",type:"submit"},on:{click:function(t){return t.preventDefault(),e.updateEvent(e.selectedEvent)}}},[e._v("\n      Save\n    ")])],1)],1)],1)],1)],1)],1)},i=[];function s(){return Math.random().toString(36).slice(2)}var c={data:()=>({today:(new Date).toISOString().substr(0,10),focus:(new Date).toISOString().substr(0,10),type:"month",typeToLabel:{month:"Month",week:"Week",day:"Day","4day":"4 Days"},dialogCalendar:!1,calendarName:null,calendarColor:"#000",name:null,details:null,start:"",end:null,color:"#000",currentlyEditing:null,selectedEvent:{},selectedElement:null,selectedOpen:!1,events:[],dialog:!1,dialogDate:!1,typeCalendar:[],SelectNow:""}),mounted(){this.getCalendar()},created(){},computed:{title(){const{start:e,end:t}=this;if(!e||!t)return"";const a=this.monthFormatter(e),n=this.monthFormatter(t),l=a===n?"":n,r=e.year,o=t.year,i=r===o?"":o,s=e.day+this.nth(e.day),c=t.day+this.nth(t.day);switch(this.type){case"month":return`${a} ${r}`;case"week":case"4day":return`${a} ${s} ${r} - ${l} ${c} ${i}`;case"day":return`${a} ${s} ${r}`}return""},monthFormatter(){return this.$refs.calendar.getFormatter({timeZone:"UTC",month:"long"})}},methods:{async getCalendar(e=null){const t=await W.ref("Calendars").once("value"),a=t.val();for(name in this.typeCalendar=[],a)this.typeCalendar.push(name);this.SelectNow=null==e?this.typeCalendar[0]:e;let n=t.val()[this.SelectNow];const l=[];if("object"===typeof n)for(event in n)"object"===typeof n[event]&&l.push(n[event]);this.events=l,console.log(this.events)},async addEvent(){if(this.name&&this.start&&this.end){const e=s();console.log(this.color),await W.ref(`Calendars/${this.SelectNow}/event${e}`).set({name:this.name,details:this.details,start:this.start,end:this.end,color:this.color,id:e}),this.getCalendar(this.SelectNow),this.name="",this.details="",this.start="",this.end=""}else alert("You must enter event name, start, and end time")},async addCalendar(){this.calendarName?(await W.ref(`Calendars/${this.calendarName}`).set({event:"hello"}),this.getCalendar(this.calendarName),this.calendarName="",this.dialogCalendar=!1):alert("You must enter event name, start, and end time")},async deleteCalendar(e){this.typeCalendar.length>1?(await W.ref(`Calendars/${e}`).remove(),this.getCalendar()):alert("вы не можете удалить свой последний календарь")},editEvent(e){this.currentlyEditing=e.id},async updateEvent(e){await W.ref(`Calendars/${this.SelectNow}/event${this.currentlyEditing}`).update({details:e.details}),this.getCalendar(this.SelectNow),this.selectedOpen=!1,this.currentlyEditing=null},async deleteEvent(e){await W.ref(`Calendars/${this.SelectNow}/event${e}`).remove(),this.selectedOpen=!1,this.getCalendar(this.SelectNow)},setDialogDate({date:e}){this.dialog=!0,this.start=e},viewDay({date:e}){this.focus=e,this.type="day"},getEventColor(e){return e.color},setToday(){this.focus=this.today},prev(){this.$refs.calendar.prev()},next(){this.$refs.calendar.next()},showEvent({nativeEvent:e,event:t}){const a=()=>{this.selectedEvent=t,this.selectedElement=e.target,setTimeout(()=>this.selectedOpen=!0,10)};this.selectedOpen?(this.selectedOpen=!1,setTimeout(a,10)):a(),e.stopPropagation()},updateRange({start:e,end:t}){this.start=e,this.end=t},nth(e){return e>3&&e<21?"th":["th","st","nd","rd","th","th","th","th","th","th"][e%10]}}},d=c,u=a("2877"),v=a("6544"),p=a.n(v),f=a("8336"),h=a("a4f6"),m=a("b0af"),y=a("99d9"),b=a("62ad"),g=a("a523"),C=a("169a"),w=a("4bd4"),k=a("132d"),x=a("8860"),_=a("da13"),E=a("5d23"),S=a("e449"),$=a("0fd9"),O=a("8dd9"),V=a("8654"),N=a("71d9"),D=a("2a7f"),T=Object(u["a"])(d,o,i,!1,null,null,null),j=T.exports;p()(T,{VBtn:f["a"],VCalendar:h["a"],VCard:m["a"],VCardActions:y["a"],VCardText:y["b"],VCol:b["a"],VContainer:g["a"],VDialog:C["a"],VForm:w["a"],VIcon:k["a"],VList:x["a"],VListItem:_["a"],VListItemTitle:E["a"],VMenu:S["a"],VRow:$["a"],VSheet:O["a"],VTextField:V["a"],VToolbar:N["a"],VToolbarTitle:D["a"]});var P={name:"App",components:{Calendar:j},data:()=>({calendars:[]})},M=P,I=(a("034f"),a("7496")),A=a("a75b"),L=Object(u["a"])(M,l,r,!1,null,null,null),F=L.exports;p()(L,{VApp:I["a"],VContent:A["a"]});var q=a("f309");n["a"].use(q["a"]);var R=new q["a"]({icons:{iconfont:"mdi"}}),z=a("8aa5"),U=a.n(z);var B=a("802e"),J=a("2f62");n["a"].use(J["a"]);new J["a"].Store({state:{},mutations:{},actions:{}});a.d(t,"db",function(){return K}),a.d(t,"dbRealTime",function(){return W}),n["a"].use(B["default"]),n["a"].config.productionTip=!1,U.a.initializeApp({apiKey:"AIzaSyCU16Dc-MyPCevmyzyjNPtA0MAoqfKlukE",authDomain:"vue-calendar-a23fc.firebaseapp.com",databaseURL:"https://vue-calendar-a23fc-default-rtdb.firebaseio.com",projectId:"vue-calendar-a23fc",storageBucket:"vue-calendar-a23fc.appspot.com",messagingSenderId:"919000602614",appId:"1:919000602614:web:26201e96a1e7304bf219d7"});const K=U.a.firestore(),W=U.a.database();new n["a"]({vuetify:R,render:e=>e(F)}).$mount("#app")}});
//# sourceMappingURL=app.7dfd3b23.js.map